:root {
    --bg-dark: #050511;
    --bg-gradient: radial-gradient(circle at 50% 0%, #1a1f3c 0%, #050511 100%);

    --text-primary: #ffffff;
    --text-secondary: #a0a8c0;
    --text-muted: #5e6585;

    --wet-color: #0aff9d;
    --wet-glow: rgba(10, 255, 157, 0.6);
    --wet-secondary: #00cc7a;

    --dry-color: #00e1ff;
    --dry-glow: rgba(0, 225, 255, 0.6);
    --dry-secondary: #00b8d4;

    --glass-bg: rgba(255, 255, 255, 0.03);
    --glass-border: rgba(255, 255, 255, 0.08);
    --glass-highlight: rgba(255, 255, 255, 0.15);

    --card-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);

    --transition-smooth: cubic-bezier(0.23, 1, 0.32, 1);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    -webkit-tap-highlight-color: transparent;
}

body {
    font-family: 'Space Grotesk', system-ui, -apple-system, sans-serif;
    background: var(--bg-dark);
    background-image: var(--bg-gradient);
    color: var(--text-primary);
    min-height: 100vh;
    overflow-x: hidden;
    position: relative;
    display: flex;
    flex-direction: column;
}

/* Animated Background */
.animated-bg {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    pointer-events: none;
    overflow: hidden;
}

.bg-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.2;
    animation: float 20s ease-in-out infinite;
}

.orb-1 {
    width: 60vw;
    height: 60vw;
    background: var(--wet-color);
    top: -20%;
    left: -20%;
    animation-delay: 0s;
}

.orb-2 {
    width: 70vw;
    height: 70vw;
    background: var(--dry-color);
    bottom: -20%;
    right: -20%;
    animation-delay: -10s;
}

@keyframes float {

    0%,
    100% {
        transform: translate(0, 0) scale(1);
    }

    33% {
        transform: translate(30px, -30px) scale(1.1);
    }

    66% {
        transform: translate(-20px, 20px) scale(0.9);
    }
}

/* Header - Mobile Optimized */
header {
    position: relative;
    z-index: 100;
    padding: 1rem 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    backdrop-filter: blur(15px);
    background: rgba(5, 5, 17, 0.7);
    border-bottom: 1px solid var(--glass-border);
    height: 70px;
}

.logo {
    display: flex;
    align-items: center;
    gap: 0.8rem;
}

.logo-icon {
    width: 38px;
    height: 38px;
    background: linear-gradient(135deg, var(--wet-color), var(--dry-color));
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    color: #000;
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
}

.logo-text {
    font-size: 1.2rem;
    font-weight: 700;
    letter-spacing: 0.5px;
    background: linear-gradient(90deg, #fff, var(--text-secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.status-badge {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.4rem 0.8rem;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid var(--glass-border);
    border-radius: 30px;
    font-size: 0.75rem;
    font-weight: 600;
    backdrop-filter: blur(5px);
}

.status-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--text-muted);
    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.05);
}

.status-badge.online .status-dot {
    background: var(--wet-color);
    box-shadow: 0 0 8px var(--wet-glow);
    animation: blink 2s infinite;
}

@keyframes blink {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.5;
    }
}

/* Main Container - Adjusted for Mobile */
.container {
    position: relative;
    z-index: 10;
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
    padding: 1rem;
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    /* Changed to start to control spacing better */
    gap: 1rem;
    padding-top: 2rem;
}

/* Glassmorphism & Aesthetics Upgrade */

/* Enhanced Background */
:root {
    --glass-surface: rgba(255, 255, 255, 0.05);
    --glass-border: rgba(255, 255, 255, 0.1);
    --glass-glow: rgba(255, 255, 255, 0.2);
    --neon-wet: #00ff9d;
    --neon-dry: #00e1ff;
    --shadow-soft: 0 10px 40px rgba(0, 0, 0, 0.5);
}

.detection-area {
    /* Mobile-first: Hub on top, bins below */
    display: grid;
    grid-template-areas:
        "hub"
        "bins";
    gap: 3rem;
    width: 100%;
    justify-items: center;
}

/* Container for bins in the 'bins' area */
.detection-area::after {
    /* Virtual element to hold bins if we stick with grid areas,
       but actually we need to restructure the HTML or just hack the grid.
       Let's stick to the previous grid but refine spacing.
    */
    content: none;
}

.detection-area {
    grid-template-areas:
        "hub hub"
        "dry wet";
    grid-template-columns: 1fr 1fr;
}

/* Premium Glass Hub */
.detection-hub {
    grid-area: hub;
    width: 250px;
    height: 250px;
    margin-bottom: 2rem;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}

.hub-core {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: radial-gradient(circle at 35% 35%,
            rgba(255, 255, 255, 0.1) 0%,
            rgba(255, 255, 255, 0.02) 60%,
            transparent 100%);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-top: 1px solid var(--glass-glow);
    box-shadow:
        0 0 50px rgba(0, 0, 0, 0.5),
        inset 0 0 30px rgba(255, 255, 255, 0.05);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    z-index: 10;
    transition: all 0.4s var(--transition-smooth);
}

.hub-core::after {
    content: '';
    position: absolute;
    inset: -5px;
    border-radius: 50%;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.1), transparent 40%);
    filter: blur(2px);
    z-index: -1;
}

.hub-icon {
    font-size: 3.5rem;
    color: rgba(255, 255, 255, 0.8);
    transition: all 0.3s ease;
}

/* Orbital Rings */
.orbit-ring {
    position: absolute;
    border-radius: 50%;
    border: 1px solid rgba(255, 255, 255, 0.08);
    pointer-events: none;
}

.ring-1 {
    width: 100%;
    height: 100%;
    border-top-color: rgba(255, 255, 255, 0.3);
    animation: rotate 15s linear infinite;
}

.ring-2 {
    width: 140%;
    height: 140%;
    border-style: dotted;
    border-width: 2px;
    opacity: 0.3;
    animation: rotate-rev 25s linear infinite;
}

@keyframes rotate {
    100% {
        transform: rotate(360deg);
    }
}

@keyframes rotate-rev {
    100% {
        transform: rotate(-360deg);
    }
}

/* Bin Cards - Sexy Glass */
.bin-card {
    width: 100%;
    max-width: 160px;
    height: 200px;
    /* Taller */
    background: linear-gradient(165deg, rgba(255, 255, 255, 0.03) 0%, rgba(255, 255, 255, 0.01) 100%);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 24px;
    box-shadow: var(--shadow-soft);
    display: flex;
    flex-direction: column;
    /* Icon on top of text */
    align-items: center;
    justify-content: center;
    padding: 1.5rem;
    gap: 1rem;
    transition: all 0.3s var(--transition-smooth);
    position: relative;
    overflow: hidden;
}

.bin-card.active {
    background: linear-gradient(165deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.02) 100%);
    border-color: rgba(255, 255, 255, 0.2);
    transform: translateY(-5px);
}

/* DRY BIN - LEFT */
#dryBin {
    grid-area: dry;
    border-bottom: 4px solid var(--dry-secondary);
}

#dryBin .bin-icon {
    color: var(--dry-color);
    background: rgba(0, 225, 255, 0.1);
    box-shadow: 0 0 15px rgba(0, 225, 255, 0.1);
}

/* WET BIN - RIGHT */
#wetBin {
    grid-area: wet;
    border-bottom: 4px solid var(--wet-secondary);
}

#wetBin .bin-icon {
    color: var(--wet-color);
    background: rgba(10, 255, 157, 0.1);
    box-shadow: 0 0 15px rgba(10, 255, 157, 0.1);
}

.bin-icon {
    width: 50px;
    height: 50px;
    border-radius: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    transition: all 0.3s ease;
}

.bin-card h3 {
    font-size: 1rem;
    letter-spacing: 1px;
    color: var(--text-secondary);
    font-weight: 600;
    text-align: center;
}

/* Active State Overrides */
.bin-card.wet-active {
    background: linear-gradient(180deg, rgba(10, 255, 157, 0.1), transparent);
    border-color: var(--wet-color);
    box-shadow: 0 0 25px rgba(10, 255, 157, 0.2);
}

.bin-card.wet-active h3 {
    color: var(--wet-color);
    text-shadow: 0 0 10px var(--wet-glow);
}

.bin-card.dry-active {
    background: linear-gradient(180deg, rgba(0, 225, 255, 0.1), transparent);
    border-color: var(--dry-color);
    box-shadow: 0 0 25px rgba(0, 225, 255, 0.2);
}

.bin-card.dry-active h3 {
    color: var(--dry-color);
    text-shadow: 0 0 10px var(--dry-glow);
}

/* Detection States on Hub */
body.detecting-wet .hub-core {
    border-color: var(--wet-color);
    box-shadow: 0 0 40px var(--wet-glow), inset 0 0 20px rgba(10, 255, 157, 0.3);
}

body.detecting-wet .hub-icon {
    color: var(--wet-color);
    transform: scale(1.1);
}

body.detecting-dry .hub-core {
    border-color: var(--dry-color);
    box-shadow: 0 0 40px var(--dry-glow), inset 0 0 20px rgba(0, 225, 255, 0.3);
}

body.detecting-dry .hub-icon {
    color: var(--dry-color);
    transform: scale(1.1);
}

/* Status Text */
.status-message {
    text-align: center;
    margin-top: auto;
    padding-bottom: 2rem;
    width: 100%;
}

.status-message h2 {
    font-size: 1.6rem;
    font-weight: 700;
    background: linear-gradient(180deg, #fff, var(--text-secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 0.5rem;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.status-message p {
    font-size: 0.95rem;
    color: var(--text-muted);
}

/* Waste Particle - The 'Thing' Animation */
.waste-particle {
    position: fixed;
    top: 50%;
    /* Default center */
    left: 50%;
    transform: translate(-50%, -50%) scale(0);
    z-index: 999;
    pointer-events: none;

    /* Bigger icon for better visibility */
    width: 100px;
    height: 100px;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 3.5rem;
    /* Big Icon */
    filter: drop-shadow(0 0 20px rgba(0, 0, 0, 0.5));
}

/* 
   Animation Sequence:
   1. Materialize (0-20%): Fade in at center (Hub)
   2. Identify (20-40%): Scale up slightly, pulse, recognize color
   3. Transport (40-100%): Fly to bin with easing
*/

.waste-particle.animating-wet {
    color: var(--neon-wet);
    text-shadow: 0 0 20px var(--neon-wet);
    animation: process-wet-waste 1.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

.waste-particle.animating-dry {
    color: var(--neon-dry);
    text-shadow: 0 0 20px var(--neon-dry);
    animation: process-dry-waste 1.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

/* Mobile Trajectories (Hub is Top Center) */
/* Assumption: Hub is approx at top: 25%, Bins at top: 70% */

@keyframes process-wet-waste {

    /* 1. Appears in HUB */
    0% {
        opacity: 0;
        top: 28%;
        /* Vertically centered on Mobile Hub */
        left: 50%;
        transform: translate(-50%, -50%) scale(0);
    }

    /* 2. Recognition Pause */
    20% {
        opacity: 1;
        top: 28%;
        transform: translate(-50%, -50%) scale(1);
    }

    40% {
        top: 28%;
        transform: translate(-50%, -50%) scale(1.1);
        /* Pulse */
    }

    /* 3. Throw to WET Bin (Right) */
    100% {
        opacity: 0;
        top: 70%;
        /* Bin Area */
        left: 75%;
        /* Right side */
        transform: translate(-50%, -50%) scale(0.4) rotate(-360deg);
    }
}

@keyframes process-dry-waste {

    /* 1. Appears in HUB */
    0% {
        opacity: 0;
        top: 28%;
        /* Vertically centered on Mobile Hub */
        left: 50%;
        transform: translate(-50%, -50%) scale(0);
    }

    /* 2. Recognition Pause */
    20% {
        opacity: 1;
        top: 28%;
        transform: translate(-50%, -50%) scale(1);
    }

    40% {
        top: 28%;
        transform: translate(-50%, -50%) scale(1.1);
        /* Pulse */
    }

    /* 3. Throw to DRY Bin (Left) */
    100% {
        opacity: 0;
        top: 70%;
        /* Bin Area */
        left: 25%;
        /* Left side */
        transform: translate(-50%, -50%) scale(0.4) rotate(360deg);
    }
}


/* Desktop Tweaks */
@media (min-width: 768px) {
    .container {
        max-width: 1200px;
        padding-top: 5rem;
    }

    .detection-area {
        grid-template-areas: "dry hub wet";
        grid-template-columns: 1fr 1fr 1fr;
        gap: 2rem;
    }

    .detection-hub {
        width: 350px;
        height: 350px;
        order: 2;
        margin-bottom: 0;
    }

    .bin-card {
        max-width: 280px;
        height: 400px;
    }

    @keyframes process-wet-waste {

        /* Desktop: Hub is center (50% 50%) */
        0% {
            opacity: 0;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
        }

        20% {
            opacity: 1;
            top: 50%;
            transform: translate(-50%, -50%) scale(1);
        }

        40% {
            top: 50%;
            transform: translate(-50%, -50%) scale(1.1);
        }

        100% {
            opacity: 0;
            top: 60%;
            left: 85%;
            transform: translate(-50%, -50%) scale(0.4) rotate(-360deg);
        }
    }

    @keyframes process-dry-waste {
        0% {
            opacity: 0;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
        }

        20% {
            opacity: 1;
            top: 50%;
            transform: translate(-50%, -50%) scale(1);
        }

        40% {
            top: 50%;
            transform: translate(-50%, -50%) scale(1.1);
        }

        100% {
            opacity: 0;
            top: 60%;
            left: 15%;
            transform: translate(-50%, -50%) scale(0.4) rotate(360deg);
        }
    }
}

/* Loading Overlay */
#loadingOverlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--bg-dark);
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: opacity 0.5s ease-out, visibility 0.5s ease-out;
}

#loadingOverlay.hidden {
    opacity: 0;
    visibility: hidden;
}

.loader {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
}

.loader-ring {
    width: 50px;
    height: 50px;
    border: 3px solid rgba(255, 255, 255, 0.1);
    border-top-color: var(--wet-color);
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

.loader-text {
    font-family: 'Space Grotesk', sans-serif;
    font-size: 0.9rem;
    letter-spacing: 2px;
    color: var(--text-muted);
    animation: pulse-text 1.5s ease-in-out infinite;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

@keyframes pulse-text {

    0%,
    100% {
        opacity: 0.5;
    }

    50% {
        opacity: 1;
    }
}

/* Entrance Animations */
.container {
    animation: fadeInUp 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
    opacity: 0;
    /* Start hidden for animation */
    animation-delay: 0.3s;
    /* Wait for loading screen to clear slightly */
}

header {
    animation: slideDown 0.6s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
    transform: translateY(-100%);
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideDown {
    from {
        transform: translateY(-100%);
    }

    to {
        transform: translateY(0);
    }
}

/* Hover Effects */
.bin-card {
    transition: all 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
}

.bin-card:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
    border-color: rgba(255, 255, 255, 0.2);
}

.bin-card:hover .bin-icon {
    transform: scale(1.1) rotate(5deg);
}